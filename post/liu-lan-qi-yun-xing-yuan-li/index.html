<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>浏览器运行原理 | Gridea</title>
<meta name="description" content="学习" />
<link rel="shortcut icon" href="https://g2Kennys.github.io/favicon.ico?v=1573628110748">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://g2Kennys.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://g2Kennys.github.io">
  <img class="avatar" src="https://g2Kennys.github.io/images/avatar.png?v=1573628110748" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    学习
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              浏览器运行原理
            </h2>
            <div class="post-info">
              <span>
                2019-11-12
              </span>
              <span>
                4 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>浏览器运行原理<br>
1）浏览器按照引擎分类<br>
trident     ie<br>
webkit      chrome   safari<br>
gecko       firefox<br>
2）浏览器主要组件<br>
1. 用户界面     除了浏览器主窗口显示的请求的页面之外的显示的各个部分<br>
2. 浏览器引擎     在用户界面和呈现引擎之间传送指令<br>
3.渲染引擎     负责显示请求的内容。如果请求的内容是html，就负责解析html和css，并将解析后的内容显示在屏幕上<br>
4.网络     用于网络调用，如http请求<br>
5.用户界面后端     用于绘制基本的窗口小部件。比如组合框和窗口<br>
6.JavaScript解释器     用于解析和执行JavaScript代码<br>
7.数据存储     持久层。浏览器需要在硬盘上保存各种数据，例如cookie<br>
3）浏览器内核工作原理<br>
1.渲染引擎<br>
渲染引擎解析HTML文档，并将文档中的标签转化为dom节点树(内容树)，同时解析外部css文件和style标签中的样式数据。<br>
样式信息与HTML中的可见内容一起被构建为“渲染树（render）”。渲染树构建完毕后进入布局处理阶段，即为每一个节点分配一个屏幕坐标。下一步绘制，即遍历render树，并使用ui后端层绘制每个节点。<br>
1.1HTML解析，css解析<br>
2.js引擎<br>
js引擎就是一个专门处理js脚本的虚拟机，专门设计来解释和执行JavaScript代码。js引擎会加载你的源代码，把他解析成字符串，把这些字符串转换成编译器可以理解的字节码，然后执行这些字节码。<br>
4）前端处理流程<br>
1.输入url<br>
2.查看浏览器是否有缓存，如果有，继续查看缓存是否过期，如果没有过期，直接返回缓存页面，如果没有缓存或者缓存过期，发送一个请求。<br>
3.浏览器解析url地址，获取协议、主机名、端口号和路径。<br>
4.获取主机ip过程<br>
(1)  浏览器缓存<br>
(2)  主机缓存<br>
(3)  hosts文件<br>
(4)  路由器缓存<br>
(5)  DNS缓存<br>
(6)  DNS递归查询<br>
5.浏览器发起和服务器的TCP连接，执行三次握手<br>
6.三次握手连接后，浏览器发送一个http请求<br>
请求头： 请求头部由关键字/值对组成，每行一对，关键字和值用英文冒号“:”分隔。请求头部通知服务器有关于客户端请<br>
求的信息，典型的请求头有：<br>
User-Agent：产生请求的浏览器类型。<br>
Accept：客户端可识别的内容类型列表。<br>
Host：请求的主机名，允许多个域名同处一个IP地址，即虚拟主机。<br>
7.服务器收到请求，转到相关的服务程序，期间可能需要连接并操作数据库（get、post）<br>
8.服务器是否需要缓存，，服务器处理完请求，发出一个响应<br>
9.服务器根据请求头包含信息决定是否需要关闭tcp连接（关闭为四次挥手）<br>
10.浏览器对接收到的响应进行解码<br>
11.浏览器解析收到的响应并根据响应的内容进行构建dom树，构建render树，渲染render树等过程<br>
12.处理嵌入的其他资源如css文件、js文件、图片文件、音视频等文件</p>
<p>将css放头部，js放底部可以提高页面性能<br>
原因：js阻塞dom解析和渲染</p>

              </div>
              <div class="toc-container">
                
              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://g2Kennys.github.io/post/hello-world">
              <h3 class="post-title">
                hello world
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '2adc0c8fe9ff1db56632',
    clientSecret: 'd169313546b46ff3111acc37e5d0481cab827c59',
    repo: 'comment',
    owner: 'g2Kennys',
    admin: ['g2Kennys'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://g2Kennys.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
